2025-11-24 00:58:01 - gap_analysis - INFO - Logging initialized. Log file: outputs/pipeline_20251124_005801.log
2025-11-24 00:58:01 - gap_analysis - INFO - ======================================================================
2025-11-24 00:58:01 - gap_analysis - INFO - CONTENT GAP ANALYSIS - COMPLETE PIPELINE
2025-11-24 00:58:01 - gap_analysis - INFO - ======================================================================
2025-11-24 00:58:01 - gap_analysis - INFO - 
2025-11-24 00:58:01 - gap_analysis - INFO - Pipeline started at 2025-11-24 00:58:01
2025-11-24 00:58:01 - gap_analysis - DEBUG - Output directories created
2025-11-24 00:58:01 - gap_analysis - INFO - 
======================================================================
2025-11-24 00:58:01 - gap_analysis - INFO - PHASE 1: DATA PREPARATION
2025-11-24 00:58:01 - gap_analysis - INFO - ======================================================================
2025-11-24 00:58:03 - gap_analysis - INFO - ✓ Loaded and prepared 12909 questions (took 1.1s)
2025-11-24 00:58:03 - gap_analysis - DEBUG - DataFrame shape: (12909, 21), columns: ['QTYPE', 'QID', 'category_id', 'QEN', 'ACEN', 'AW1EN', 'AW2EN', 'ACID', 'AWID1', 'AWID2', 'tags', 'tag_ids', 'tag_names', 'tag_categories', 'tag_codes', 'primary_category', 'QEN_length', 'ACEN_length', 'AW1EN_length', 'AW2EN_length', 'combined_text']
2025-11-24 00:58:03 - gap_analysis - INFO - 
======================================================================
2025-11-24 00:58:03 - gap_analysis - INFO - PHASE 2: QUALITY ANALYSIS
2025-11-24 00:58:03 - gap_analysis - INFO - ======================================================================
2025-11-24 00:58:03 - gap_analysis - INFO - ✓ Quality analysis complete (took 0.2s)
2025-11-24 00:58:03 - gap_analysis - DEBUG - Quality metrics: {'total_questions': 12909, 'qen_complete': np.int64(12909), 'qen_complete_pct': np.float64(100.0), 'acen_complete': np.int64(12909), 'acen_complete_pct': np.float64(100.0), 'aw1en_complete': np.int64(12909), 'aw1en_complete_pct': np.float64(100.0), 'aw2en_complete': np.int64(12909), 'aw2en_complete_pct': np.float64(100.0), 'unique_acen': 7156, 'unique_aw1en': 6804, 'unique_aw2en': 6984, 'duplicate_answers_count': np.int64(14), 'duplicate_answers_pct': np.float64(0.10845146796808428), 'avg_qen_length': np.float64(42.37043922844527), 'avg_acen_length': np.float64(10.3319389573166), 'avg_aw1en_length': np.float64(10.10116972654737), 'avg_aw2en_length': np.float64(9.939112247269348)}
2025-11-24 00:58:03 - gap_analysis - INFO - 
======================================================================
2025-11-24 00:58:03 - gap_analysis - INFO - PHASE 3: N-GRAM ANALYSIS
2025-11-24 00:58:03 - gap_analysis - INFO - ======================================================================
2025-11-24 00:58:27 - gap_analysis - INFO - ✓ N-gram analysis complete (took 24.3s)
2025-11-24 00:58:27 - gap_analysis - DEBUG - Extracted n-grams: 50 bigrams
2025-11-24 00:58:27 - gap_analysis - INFO - 
======================================================================
2025-11-24 00:58:27 - gap_analysis - INFO - PHASE 4: ENTITY RECOGNITION
2025-11-24 00:58:27 - gap_analysis - INFO - ======================================================================
2025-11-24 00:58:27 - gap_analysis - INFO - This phase processes all questions with spaCy NER (may take 5-10 minutes)...
2025-11-24 00:58:27 - gap_analysis - ERROR - Error during analysis: [E050] Can't find model 'en_core_web_sm'. It doesn't seem to be a Python package or a valid path to a data directory.
2025-11-24 00:58:27 - gap_analysis - ERROR - Full traceback:
Traceback (most recent call last):
  File "/home/dada/my_projects/ninuka-quiz/run_gap_analysis.py", line 117, in run_gap_analysis
    entity_results = analyze_entities(df)
  File "/home/dada/my_projects/ninuka-quiz/gap_analysis/entity_recognition.py", line 259, in analyze_entities
    nlp = load_spacy_model()
  File "/home/dada/my_projects/ninuka-quiz/gap_analysis/entity_recognition.py", line 14, in load_spacy_model
    nlp = spacy.load("en_core_web_sm")
  File "/home/dada/my_projects/ninuka-quiz/.venv/lib/python3.13/site-packages/spacy/__init__.py", line 52, in load
    return util.load_model(
           ~~~~~~~~~~~~~~~^
        name,
        ^^^^^
    ...<4 lines>...
        config=config,
        ^^^^^^^^^^^^^^
    )
    ^
  File "/home/dada/my_projects/ninuka-quiz/.venv/lib/python3.13/site-packages/spacy/util.py", line 531, in load_model
    raise IOError(Errors.E050.format(name=name))
OSError: [E050] Can't find model 'en_core_web_sm'. It doesn't seem to be a Python package or a valid path to a data directory.
2025-11-24 00:58:27 - gap_analysis - ERROR - Pipeline failed at 2025-11-24 00:58:27
2025-11-24 00:58:27 - gap_analysis - INFO - Check the log file for detailed error information
